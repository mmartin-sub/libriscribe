"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[225],{5591:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"api/cli-api","title":"LibriScribe2 CLI API Documentation","description":"Overview","source":"@site/docs/api/cli-api.md","sourceDirName":"api","slug":"/api/cli-api","permalink":"/libriscribe2/docs/api/cli-api","draft":false,"unlisted":false,"editUrl":"https://github.com/guerra2fernando/libriscribe2/tree/main/docs/docs/api/cli-api.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"AI Mock System Documentation","permalink":"/libriscribe2/docs/api/ai-mock-system"},"next":{"title":"LibriScribe2 CLI Documentation Summary","permalink":"/libriscribe2/docs/api/cli-documentation-summary"}}');var r=t(4848),o=t(8453);const l={},s="LibriScribe2 CLI API Documentation",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Module Structure",id:"module-structure",level:2},{value:"Core Components",id:"core-components",level:2},{value:"Application Setup",id:"application-setup",level:3},{value:"Global Variables",id:"global-variables",level:3},{value:"Command Categories",id:"command-categories",level:2},{value:"\ud83d\udfe2 NON-INTERACTIVE (RECOMMENDED)",id:"-non-interactive-recommended",level:3},{value:"\ud83d\udfe1 INTERACTIVE (ADVANCED)",id:"-interactive-advanced",level:3},{value:"Function Signatures",id:"function-signatures",level:2},{value:"Utility Functions",id:"utility-functions",level:3},{value:"setup_application_logging()",id:"setup_application_logging",level:4},{value:"custom_help()",id:"custom_help",level:4},{value:"version_callback()",id:"version_callback",level:4},{value:"log_command_start()",id:"log_command_start",level:4},{value:"suppress_traceback()",id:"suppress_traceback",level:4},{value:"Command Functions",id:"command-functions",level:3},{value:"start()",id:"start",level:4},{value:"create_book()",id:"create_book",level:4},{value:"book_stats()",id:"book_stats",level:4},{value:"generate_title()",id:"generate_title",level:4},{value:"resume()",id:"resume",level:4},{value:"Async Command Functions",id:"async-command-functions",level:3},{value:"concept()",id:"concept",level:4},{value:"outline()",id:"outline",level:4},{value:"characters()",id:"characters",level:4},{value:"worldbuilding()",id:"worldbuilding",level:4},{value:"write()",id:"write",level:4},{value:"edit()",id:"edit",level:4},{value:"format()",id:"format",level:4},{value:"research()",id:"research",level:4},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Basic Book Creation",id:"basic-book-creation",level:3},{value:"Project Management",id:"project-management",level:3},{value:"Configuration Options",id:"configuration-options",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Error Recovery",id:"error-recovery",level:3},{value:"Logging",id:"logging",level:2},{value:"Application Logging",id:"application-logging",level:3},{value:"Console Logging",id:"console-logging",level:3},{value:"Integration",id:"integration",level:2},{value:"Workflow Integration",id:"workflow-integration",level:3},{value:"Configuration Files",id:"configuration-files",level:3},{value:"Dependencies",id:"dependencies",level:2},{value:"Required Imports",id:"required-imports",level:3},{value:"External Dependencies",id:"external-dependencies",level:3},{value:"Recent Changes",id:"recent-changes",level:2},{value:"Log File Path Display Enhancement",id:"log-file-path-display-enhancement",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Command Usage",id:"command-usage",level:3},{value:"Error Handling",id:"error-handling-1",level:3},{value:"Performance",id:"performance",level:3},{value:"See Also",id:"see-also",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"libriscribe2-cli-api-documentation",children:"LibriScribe2 CLI API Documentation"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The LibriScribe2 CLI provides a comprehensive command-line interface for creating, managing, and analyzing book projects. The CLI is built using Typer and Rich for enhanced user experience with colored output and interactive prompts."}),"\n",(0,r.jsx)(n.h2,{id:"module-structure",children:"Module Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# src/libriscribe2/cli.py\n"""\nLibriScribe2 - Modern book creation CLI with rich output and type safety.\n"""\n'})}),"\n",(0,r.jsx)(n.h2,{id:"core-components",children:"Core Components"}),"\n",(0,r.jsx)(n.h3,{id:"application-setup",children:"Application Setup"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'app = typer.Typer(\n    help="LibriScribe2 - Modern book creation CLI",\n    rich_markup_mode="rich",\n    callback=version_callback,\n    invoke_without_command=True,\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"global-variables",children:"Global Variables"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"console: Console  # Rich console for formatted output\nproject_manager: ProjectManagerAgent  # Global project manager instance\napp_log_file: Path  # Application log file path\n"})}),"\n",(0,r.jsx)(n.h2,{id:"command-categories",children:"Command Categories"}),"\n",(0,r.jsx)(n.h3,{id:"-non-interactive-recommended",children:"\ud83d\udfe2 NON-INTERACTIVE (RECOMMENDED)"}),"\n",(0,r.jsx)(n.p,{children:"These commands are fully implemented and production-ready:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"create-book"})," - Create books with command-line arguments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"book-stats"})," - View book statistics"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"format"})," - Format existing books"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"generate-title"})," - Generate titles for existing projects"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-interactive-advanced",children:"\ud83d\udfe1 INTERACTIVE (ADVANCED)"}),"\n",(0,r.jsx)(n.p,{children:"These commands are partially implemented or experimental:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"start"})," - Interactive book creation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"concept"})," - Generate concept for existing project"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"outline"})," - Generate outline for existing project"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"characters"})," - Generate characters for existing project"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"worldbuilding"})," - Generate worldbuilding for existing project"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"write"})," - Write specific chapter"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"edit"})," - Edit specific chapter"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"research"})," - Research functionality"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"resume"})," - Resume existing project"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"function-signatures",children:"Function Signatures"}),"\n",(0,r.jsx)(n.h3,{id:"utility-functions",children:"Utility Functions"}),"\n",(0,r.jsx)(n.h4,{id:"setup_application_logging",children:"setup_application_logging()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def setup_application_logging() -> Path:\n    """Set up application-level logging before any project is created.\n\n    Returns:\n        Path: Path to the created log file\n\n    Creates:\n        - logs/ directory if it doesn\'t exist\n        - Timestamped log file: logs/libriscribe_{timestamp}.log\n        - File handler with DEBUG level logging\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"custom_help",children:"custom_help()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def custom_help() -> None:\n    """Display custom help with Rich formatting.\n\n    Features:\n        - Colored tables showing command categories\n        - Usage recommendations\n        - Command descriptions\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"version_callback",children:"version_callback()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def version_callback(\n    _ctx: typer.Context,\n    version: bool = typer.Option(None, "--version", "-v", help="Show version and exit")\n) -> None:\n    """Show version and exit.\n\n    Args:\n        _ctx: Typer context (unused)\n        version: Whether to show version\n\n    Raises:\n        typer.Exit: Always exits after showing version\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"log_command_start",children:"log_command_start()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def log_command_start() -> None:\n    """Log the start of a command execution.\n\n    Logs:\n        - Current timestamp\n        - Program arguments\n        - Command execution start marker\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"suppress_traceback",children:"suppress_traceback()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def suppress_traceback(\n    exc_type: type[BaseException],\n    exc_value: BaseException,\n    _exc_traceback: Any\n) -> None:\n    """Suppress traceback output to console.\n\n    Args:\n        exc_type: Exception type\n        exc_value: Exception instance\n        _exc_traceback: Traceback object (unused)\n\n    Behavior:\n        - Logs full traceback to file\n        - Shows minimal error message to console\n        - Ignores KeyboardInterrupt\n    """\n'})}),"\n",(0,r.jsx)(n.h3,{id:"command-functions",children:"Command Functions"}),"\n",(0,r.jsx)(n.h4,{id:"start",children:"start()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\ndef start(\n    env_file: str = typer.Option(None, "--env-file", help="Path to a custom .env file"),\n    config_file: str = typer.Option(None, "--config-file", help="Path to a custom JSON/YAML config file"),\n) -> None:\n    """Starts the interactive book creation process (ADVANCED - NOT FULLY SUPPORTED).\n\n    Args:\n        env_file: Path to custom .env file\n        config_file: Path to custom JSON/YAML config file\n\n    Status:\n        NOT IMPLEMENTED - Shows error message\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"create_book",children:"create_book()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command(name="create-book")\ndef create_book(\n    title: str = typer.Option(\n        None, "--title", "-t",\n        help="Book title (optional - use --auto-title to generate based on content)"\n    ),\n    project_name: str = typer.Option(\n        None, "--project-name", "-p",\n        help="Custom project folder name (spaces allowed, must be empty or non-existent)"\n    ),\n    auto_title: bool = typer.Option(\n        False, "--auto-title",\n        help="Auto-generate title based on content (skipped if title is provided)"\n    ),\n    category: str = typer.Option(\n        "Fiction", "--category", "-c",\n        help="Book category [default: Fiction]"\n    ),\n    project_type: str = typer.Option(\n        "novel", "--project-type",\n        help="Project type: short_story, novella, book, novel, epic [default: novel]"\n    ),\n    genre: str = typer.Option(\n        None, "--genre", "-g",\n        help="Book genre (e.g., fantasy, mystery, romance)"\n    ),\n    description: str = typer.Option(\n        None, "--description", "-d",\n        help="Book description or synopsis"\n    ),\n    language: str = typer.Option(\n        "English", "--language", "-l",\n        help="Book language [default: English]"\n    ),\n    chapters: str = typer.Option(\n        None, "--chapters",\n        help="Number of chapters to generate (e.g., 10, 8-12) (overrides project-type)"\n    ),\n    characters: str = typer.Option(\n        None, "--characters",\n        help="Number of characters to create (e.g., 5, 3-7, 5+)"\n    ),\n    scenes_per_chapter: str = typer.Option(\n        None, "--scenes-per-chapter",\n        help="Scene range per chapter (e.g., 3-6, 4-8, 5) (overrides project-type)"\n    ),\n    target_audience: str = typer.Option(\n        "General", "--target-audience",\n        help="Target audience (e.g., General, Young Adult, Adult, Children) [default: General]",\n    ),\n    worldbuilding: bool = typer.Option(\n        False, "--worldbuilding",\n        help="Enable worldbuilding for the book"\n    ),\n    config_file: str = typer.Option(\n        None, "--config-file",\n        help="Path to configuration file (.env, .yaml, .yml, or .json)"\n    ),\n    log_file: str = typer.Option(\n        None, "--log-file",\n        help="Path to log file"\n    ),\n    log_level: str = typer.Option(\n        "INFO", "--log-level",\n        help="Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL) [default: INFO]"\n    ),\n    mock: bool = typer.Option(\n        False, "--mock",\n        help="Use mock LLM provider for testing"\n    ),\n    generate_concept: bool = typer.Option(\n        False, "--generate-concept",\n        help="Generate book concept"\n    ),\n    generate_outline: bool = typer.Option(\n        False, "--generate-outline",\n        help="Generate book outline"\n    ),\n    generate_characters: bool = typer.Option(\n        False, "--generate-characters",\n        help="Generate character profiles"\n    ),\n    generate_worldbuilding: bool = typer.Option(\n        False, "--generate-worldbuilding",\n        help="Generate worldbuilding details (requires --worldbuilding)"\n    ),\n    write_chapters: bool = typer.Option(\n        False, "--write-chapters",\n        help="Write all chapters"\n    ),\n    format_book: bool = typer.Option(\n        False, "--format-book",\n        help="Format the book into final output"\n    ),\n    user: str | None = typer.Option(\n        None, "--user",\n        help="User identifier for LiteLLM tags (spaces allowed)"\n    ),\n    all: bool = typer.Option(\n        False, "--all",\n        help="Perform all generation steps (concept, outline, characters, worldbuilding, chapters, formatting)",\n    ),\n) -> int:\n    """Create a new book using command-line arguments without interactive prompts.\n\n    Returns:\n        int: Exit code (0 = success, >0 = error)\n\n    Exit Codes:\n        0: Success\n        1: Runtime error or unexpected error\n        2: Invalid input (ValueError)\n        3: Import error (missing dependencies)\n        5: Book creation failed\n\n    Examples:\n        # Create a short story with auto-generated title (using mock for testing)\n        create-book --project-type=short_story --genre=fantasy --all --auto-title --mock\n\n        # Create a novel with specific title\n        create-book --title="My Fantasy Novel" --project-type=novel --genre=fantasy --all --mock\n\n        # Create with custom configuration\n        create-book --config-file=config-example.json --project-type=novel --all --auto-title --mock\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"book_stats",children:"book_stats()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command(name="book-stats")\ndef book_stats(\n    project_name: str = typer.Option(..., "--project-name", help="Project name to display statistics for"),\n    show_logs: bool = typer.Option(False, "--show-logs", help="Display the last 20 lines of the log file"),\n) -> None:\n    """Displays statistics for a book project (NON-INTERACTIVE - RECOMMENDED).\n\n    Args:\n        project_name: Name of the project to analyze\n        show_logs: Whether to display recent log entries\n\n    Features:\n        - Project metadata display\n        - Chapter status overview\n        - Dynamic questions and answers\n        - Automatic log file creation and logging\n        - Optional log file viewing (last 20 lines)\n        - Error handling for missing projects\n\n    Displays:\n        - Title, genre, language, category\n        - Book length and character count\n        - Chapter count and worldbuilding status\n        - Review preferences\n        - Chapter existence status\n        - Log file information and contents (optional)\n\n    Logging:\n        - Automatically logs all statistics to project log file\n        - Creates log file if it doesn\'t exist\n        - Timestamped entries for tracking\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"generate_title",children:"generate_title()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\ndef generate_title(\n    project_name: str = typer.Option(..., prompt="Project name"),\n    config_file: str = typer.Option(\n        None, "--config-file",\n        help="Path to configuration file"\n    ),\n    mock: bool = typer.Option(\n        False, "--mock",\n        help="Use mock LLM provider for testing"\n    ),\n    user: str | None = typer.Option(\n        None, "--user",\n        help="User identifier for LiteLLM tags (spaces allowed)"\n    ),\n) -> None:\n    """Generate a better title for an existing project based on its content.\n\n    Args:\n        project_name: Name of the existing project\n        config_file: Path to configuration file\n        mock: Whether to use mock LLM provider\n        user: User identifier for LiteLLM tags\n\n    Requirements:\n        - Project must exist with project_data.json\n        - Auto-title must be enabled or title must be "Untitled"\n        - Sufficient content must be available (chapters, characters, or outline)\n\n    Process:\n        1. Loads existing project\n        2. Checks if title generation is needed\n        3. Generates new title based on content\n        4. Updates project data file\n        5. Provides feedback on success/failure\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"resume",children:"resume()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\ndef resume(\n    project_name: str = typer.Option(..., prompt="Project name to resume"),\n) -> None:\n    """Resumes a project from the last checkpoint (ADVANCED - NOT FULLY SUPPORTED).\n\n    Args:\n        project_name: Name of the project to resume\n\n    Process:\n        1. Loads existing project data\n        2. Checks for missing content (outline, characters, worldbuilding)\n        3. Generates missing content in order\n        4. Continues writing chapters from last checkpoint\n        5. Formats book if all chapters exist\n        6. Generates title if auto-title is enabled\n\n    Status:\n        PARTIALLY IMPLEMENTED - Basic functionality available\n    """\n'})}),"\n",(0,r.jsx)(n.h3,{id:"async-command-functions",children:"Async Command Functions"}),"\n",(0,r.jsx)(n.h4,{id:"concept",children:"concept()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\nasync def concept(\n    project_name: str = typer.Option(..., prompt="Project name")\n) -> None:\n    """Generates a book concept (ADVANCED - NOT FULLY SUPPORTED).\n\n    Args:\n        project_name: Name of the project\n\n    Status:\n        NOT IMPLEMENTED - Placeholder function\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"outline",children:"outline()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\nasync def outline(\n    project_name: str = typer.Option(..., prompt="Project name")\n) -> None:\n    """Generates a book outline (ADVANCED - NOT FULLY SUPPORTED).\n\n    Args:\n        project_name: Name of the project\n\n    Status:\n        NOT IMPLEMENTED - Placeholder function\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"characters",children:"characters()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\nasync def characters(\n    project_name: str = typer.Option(..., prompt="Project name")\n) -> None:\n    """Generates character profiles (ADVANCED - NOT FULLY SUPPORTED).\n\n    Args:\n        project_name: Name of the project\n\n    Status:\n        NOT IMPLEMENTED - Placeholder function\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"worldbuilding",children:"worldbuilding()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\nasync def worldbuilding(\n    project_name: str = typer.Option(..., prompt="Project name")\n) -> None:\n    """Generates worldbuilding details (ADVANCED - NOT FULLY SUPPORTED).\n\n    Args:\n        project_name: Name of the project\n\n    Status:\n        NOT IMPLEMENTED - Placeholder function\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"write",children:"write()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\nasync def write(\n    project_name: str = typer.Option(..., prompt="Project name"),\n    chapter_number: int = typer.Option(..., prompt="Chapter number"),\n) -> None:\n    """Writes a specific chapter, with review process (ADVANCED - NOT FULLY SUPPORTED).\n\n    Args:\n        project_name: Name of the project\n        chapter_number: Chapter number to write\n\n    Status:\n        NOT IMPLEMENTED - Placeholder function\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"edit",children:"edit()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\nasync def edit(\n    project_name: str = typer.Option(..., prompt="Project name"),\n    chapter_number: int = typer.Option(..., prompt="Chapter number to edit"),\n) -> None:\n    """Edits and refines a specific chapter (ADVANCED - NOT FULLY SUPPORTED).\n\n    Args:\n        project_name: Name of the project\n        chapter_number: Chapter number to edit\n\n    Status:\n        NOT IMPLEMENTED - Placeholder function\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"format",children:"format()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\nasync def format(\n    project_name: str = typer.Option(..., prompt="Project name"),\n    _output_format: str = typer.Option(\n        None, "--output-format",\n        help="Output format (md or pdf)"\n    ),\n) -> None:\n    """Formats the entire book into a single Markdown or PDF file (ADVANCED - NOT FULLY SUPPORTED).\n\n    Args:\n        project_name: Name of the project\n        _output_format: Output format (currently unused)\n\n    Status:\n        PARTIALLY IMPLEMENTED - Basic formatting available\n    """\n'})}),"\n",(0,r.jsx)(n.h4,{id:"research",children:"research()"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'@app.command()\nasync def research(\n    query: str = typer.Option(..., prompt="Research query")\n) -> None:\n    """Performs web research on a given query (ADVANCED - NOT FULLY SUPPORTED).\n\n    Args:\n        query: Research query string\n\n    Status:\n        NOT IMPLEMENTED - Placeholder function\n    """\n'})}),"\n",(0,r.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,r.jsx)(n.h3,{id:"basic-book-creation",children:"Basic Book Creation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Create a complete book with all steps\nhatch run python -m libriscribe2.main create-book \\\n    --title="My Awesome Book" \\\n    --genre=fantasy \\\n    --description="A tale of epic proportions" \\\n    --category=fiction \\\n    --characters=3 \\\n    --worldbuilding \\\n    --all\n\n# Create with auto-generated title\nhatch run python -m libriscribe2.main create-book \\\n    --project-type=novel \\\n    --genre=mystery \\\n    --auto-title \\\n    --all \\\n    --mock\n\n# Create with custom project name\nhatch run python -m libriscribe2.main create-book \\\n    --title="My Book" \\\n    --project-name="my custom project" \\\n    --all\n'})}),"\n",(0,r.jsx)(n.h3,{id:"project-management",children:"Project Management"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# View book statistics\nhatch run python -m libriscribe2.main book-stats --project-name my_book\n\n# Generate title for existing project\nhatch run python -m libriscribe2.main generate-title --project-name my_book\n\n# Resume incomplete project\nhatch run python -m libriscribe2.main resume --project-name my_book\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Use custom configuration file\nhatch run python -m libriscribe2.main create-book \\\n    --config-file=config-example.json \\\n    --title="My Book" \\\n    --all\n\n# Use mock mode for testing\nhatch run python -m libriscribe2.main create-book \\\n    --title="Test Book" \\\n    --mock \\\n    --all\n\n# Set custom log level\nhatch run python -m libriscribe2.main create-book \\\n    --title="My Book" \\\n    --log-level=DEBUG \\\n    --all\n'})}),"\n",(0,r.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.p,{children:"The CLI implements comprehensive error handling with specific exit codes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exit Code 0"}),": Success"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exit Code 1"}),": Runtime error or unexpected error"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exit Code 2"}),": Invalid input (ValueError)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exit Code 3"}),": Import error (missing dependencies)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Exit Code 5"}),": Book creation failed"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"error-recovery",children:"Error Recovery"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Errors are logged to file with full traceback\n# Console shows minimal error message\n# Specific error codes allow workflow integration\n"})}),"\n",(0,r.jsx)(n.h2,{id:"logging",children:"Logging"}),"\n",(0,r.jsx)(n.h3,{id:"application-logging",children:"Application Logging"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"File"}),": ",(0,r.jsx)(n.code,{children:"logs/libriscribe_{timestamp}.log"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Level"}),": DEBUG (all messages captured)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Format"}),": ",(0,r.jsx)(n.code,{children:"%(asctime)s %(levelname)s %(name)s %(message)s"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"console-logging",children:"Console Logging"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Level"}),": CRITICAL (minimal console output)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Format"}),": ",(0,r.jsx)(n.code,{children:"%(message)s"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Traceback"}),": Suppressed (logged to file only)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,r.jsx)(n.h3,{id:"workflow-integration",children:"Workflow Integration"}),"\n",(0,r.jsx)(n.p,{children:"The CLI is designed for integration with external workflows:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Check exit code for workflow decisions\nif hatch run python -m libriscribe2.main create-book --title="Test" --all; then\n    echo "Book creation successful"\nelse\n    echo "Book creation failed with exit code $?"\nfi\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-files",children:"Configuration Files"}),"\n",(0,r.jsx)(n.p,{children:"Supports multiple configuration formats:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:".env"})," files"]}),"\n",(0,r.jsx)(n.li,{children:"JSON configuration files"}),"\n",(0,r.jsx)(n.li,{children:"YAML configuration files"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,r.jsx)(n.h3,{id:"required-imports",children:"Required Imports"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import asyncio\nimport datetime\nimport logging\nimport sys\nfrom pathlib import Path\nfrom typing import Any\n\nimport typer\nfrom rich.console import Console\nfrom rich.panel import Panel\n\nfrom libriscribe2.agents.project_manager import ProjectManagerAgent\nfrom libriscribe2.settings import MANUSCRIPT_MD_FILENAME, Settings\nfrom libriscribe2.utils.timestamp_utils import format_timestamp_for_filename\n"})}),"\n",(0,r.jsx)(n.h3,{id:"external-dependencies",children:"External Dependencies"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"typer"}),": CLI framework"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"rich"}),": Enhanced console output"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"asyncio"}),": Async command support"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"pathlib"}),": Path handling"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"logging"}),": Comprehensive logging"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"recent-changes",children:"Recent Changes"}),"\n",(0,r.jsx)(n.h3,{id:"log-file-path-display-enhancement",children:"Log File Path Display Enhancement"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Change"}),": Updated error message in ",(0,r.jsx)(n.code,{children:"book_stats()"})," command to show the actual log file path when no log file is found."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Before"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"console.print(f\"[yellow]No log file found for '{project_name}'.[/yellow]\")\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"After"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'console.print(f"[yellow]No log file found at {project_log_file}.[/yellow]")\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Impact"}),": Provides more specific information to users about where the system expected to find the log file, improving debugging and user experience."]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"command-usage",children:"Command Usage"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use NON-INTERACTIVE commands"})," for production workflows"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use --mock flag"})," for testing without API consumption"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Specify --config-file"})," for consistent configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use --all flag"})," for complete book generation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check exit codes"})," in automated workflows"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"error-handling-1",children:"Error Handling"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check return codes"})," for workflow integration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Review log files"})," for detailed error information"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use appropriate log levels"})," for debugging"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Handle missing dependencies"})," gracefully"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use async commands"})," for I/O intensive operations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configure appropriate timeouts"})," for LLM calls"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitor resource usage"})," during book generation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use parallel processing"})," where available"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/libriscribe2/docs/api/project-manager-api",children:"ProjectManager API"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/libriscribe2/docs/user-guide/configuration",children:"Settings Configuration"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var i=t(6540);const r={},o=i.createContext(r);function l(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);