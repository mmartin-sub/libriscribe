"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[544],{4567:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"user-guide/configuration","title":"Configuration","description":"LibriScribe2 uses a flexible configuration system that allows you to customize various aspects of the application, including model selection for different types of content generation.","source":"@site/docs/user-guide/configuration.md","sourceDirName":"user-guide","slug":"/user-guide/configuration","permalink":"/libriscribe2/docs/user-guide/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/guerra2fernando/libriscribe2/tree/main/docs/docs/user-guide/configuration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Usage Guide","permalink":"/libriscribe2/docs/user-guide/usage"},"next":{"title":"ValidationEngine API Documentation","permalink":"/libriscribe2/docs/validation_engine_api"}}');var s=i(4848),o=i(8453);const l={},t="Configuration",d={},c=[{value:"Configuration Files",id:"configuration-files",level:2},{value:"Model Configuration",id:"model-configuration",level:2},{value:"Default Models",id:"default-models",level:3},{value:"Available Model Types",id:"available-model-types",level:3},{value:"Configuration Example",id:"configuration-example",level:3},{value:"YAML Configuration Example",id:"yaml-configuration-example",level:3},{value:"Model Selection Strategy",id:"model-selection-strategy",level:2},{value:"Model Complexity Guidelines",id:"model-complexity-guidelines",level:3},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Configuration Loading Order",id:"configuration-loading-order",level:2},{value:"LiteLLM Tags",id:"litellm-tags",level:2},{value:"Usage Examples",id:"usage-examples",level:3},{value:"Environment Values",id:"environment-values",level:3},{value:"Scene Configuration",id:"scene-configuration",level:3},{value:"Scene Range Format",id:"scene-range-format",level:4},{value:"Examples",id:"examples",level:4},{value:"Configuration",id:"configuration-1",level:4},{value:"Auto-Title Generation",id:"auto-title-generation",level:2},{value:"When Auto-Title is Used",id:"when-auto-title-is-used",level:3},{value:"Title Generation Requirements",id:"title-generation-requirements",level:3},{value:"Examples",id:"examples-1",level:3},{value:"Test Configuration",id:"test-configuration",level:2},{value:"Test Output Directory",id:"test-output-directory",level:3},{value:"Test Settings",id:"test-settings",level:3},{value:"Test Project Cleanup",id:"test-project-cleanup",level:3},{value:"Model Configuration Migration",id:"model-configuration-migration",level:2},{value:"Default Configuration Location",id:"default-configuration-location",level:3},{value:"Removed Variables",id:"removed-variables",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Debugging",id:"debugging",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,s.jsx)(n.p,{children:"LibriScribe2 uses a flexible configuration system that allows you to customize various aspects of the application, including model selection for different types of content generation."}),"\n",(0,s.jsx)(n.h2,{id:"configuration-files",children:"Configuration Files"}),"\n",(0,s.jsx)(n.p,{children:"The application supports multiple configuration file formats:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"JSON"}),": ",(0,s.jsx)(n.code,{children:"config-example.json"})," (copy and rename to ",(0,s.jsx)(n.code,{children:"config.json"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"YAML"}),": ",(0,s.jsx)(n.code,{children:"config.yaml"})," or ",(0,s.jsx)(n.code,{children:"config.yml"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"model-configuration",children:"Model Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["The model configuration allows you to specify which AI model to use for different types of content generation. This is configured through the ",(0,s.jsx)(n.code,{children:"models"})," section in your configuration file."]}),"\n",(0,s.jsx)(n.h3,{id:"default-models",children:"Default Models"}),"\n",(0,s.jsxs)(n.p,{children:["Default model configurations are stored in ",(0,s.jsx)(n.code,{children:"src/libriscribe2/settings.py"})," and include:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Default fallback model"}),": ",(0,s.jsx)(n.code,{children:"gpt-4o-mini"})," (used when no specific model is configured)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Complete default configuration"}),": All model types have sensible defaults"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"available-model-types",children:"Available Model Types"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Model Type"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Default Model"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"default"})}),(0,s.jsx)(n.td,{children:"Default model when none specified"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o-mini"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"outline"})}),(0,s.jsx)(n.td,{children:"For generating book outlines"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"worldbuilding"})}),(0,s.jsx)(n.td,{children:"For worldbuilding content"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"chapter"})}),(0,s.jsx)(n.td,{children:"For writing chapters"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o-mini"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"formatting"})}),(0,s.jsx)(n.td,{children:"For formatting tasks"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"concept"})}),(0,s.jsx)(n.td,{children:"For generating book concepts"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o-mini"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"character"})}),(0,s.jsx)(n.td,{children:"For character generation"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"scene_outline"})}),(0,s.jsx)(n.td,{children:"For generating scene outlines"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o-mini"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"editor"})}),(0,s.jsx)(n.td,{children:"For editing and revision"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"research"})}),(0,s.jsx)(n.td,{children:"For research tasks"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o-mini"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"scene"})}),(0,s.jsx)(n.td,{children:"For writing individual scenes"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o-mini"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"keyword_generation"})}),(0,s.jsx)(n.td,{children:"For generating keywords"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"gpt-4o-mini"})})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"configuration-example",children:"Configuration Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "openai_api_key": "your-openai-api-key-here",\n  "openai_base_url": "https://api.openai.com/v1",\n  "openai_default_model": "gpt-4o-mini",\n  "default_llm": "openai",\n  "llm_timeout": 360,\n  "environment": "production",\n  "projects_dir": "./projects",\n  "models": {\n    "default": "gpt-4o-mini",\n    "outline": "gpt-4o",\n    "worldbuilding": "gpt-4o",\n    "chapter": "gpt-4o-mini",\n    "formatting": "gpt-4o",\n    "concept": "gpt-4o-mini",\n    "character": "gpt-4o",\n    "scene_outline": "gpt-4o-mini",\n    "editor": "gpt-4o",\n    "research": "gpt-4o-mini",\n    "scene": "gpt-4o-mini",\n    "keyword_generation": "gpt-4o-mini"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"yaml-configuration-example",children:"YAML Configuration Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'# LibriScribe Configuration File\nopenai_api_key: "your-openai-api-key-here"\nopenai_base_url: "https://api.openai.com/v1"\nopenai_default_model: "gpt-4o-mini"\ndefault_llm: "openai"\nllm_timeout: 360\nenvironment: "production"\nprojects_dir: "./projects"\n\n# Model Configuration\nmodels:\n  default: "gpt-4o-mini"      # Default model when none specified\n  outline: "gpt-4o"          # For generating book outlines\n  worldbuilding: "gpt-4o"    # For worldbuilding content\n  chapter: "gpt-4o-mini"     # For writing chapters\n  formatting: "gpt-4o"       # For formatting tasks\n  concept: "gpt-4o-mini"     # For generating book concepts\n  character: "gpt-4o"        # For character generation\n  scene_outline: "gpt-4o-mini"  # For generating scene outlines\n  editor: "gpt-4o"           # For editing and revision\n  research: "gpt-4o-mini"    # For research tasks\n  scene: "gpt-4o-mini"       # For writing individual scenes\n  keyword_generation: "gpt-4o-mini"  # For generating keywords\n'})}),"\n",(0,s.jsx)(n.h2,{id:"model-selection-strategy",children:"Model Selection Strategy"}),"\n",(0,s.jsx)(n.p,{children:"The application automatically selects the appropriate model based on the type of content being generated:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Look for specific model"}),": First checks if a model is configured for the specific prompt type"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fall back to default"}),": If no specific model is found, uses the ",(0,s.jsx)(n.code,{children:'"default"'})," model from configuration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hardcoded fallback"}),": If no ",(0,s.jsx)(n.code,{children:'"default"'})," is configured, uses ",(0,s.jsx)(n.code,{children:"gpt-4o-mini"})," as the final fallback"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"model-complexity-guidelines",children:"Model Complexity Guidelines"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"High-complexity tasks"})," (outlines, worldbuilding, editing) use more powerful models like ",(0,s.jsx)(n.code,{children:"gpt-4o"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Medium-complexity tasks"})," (chapters, concepts, research) use balanced models like ",(0,s.jsx)(n.code,{children:"gpt-4o-mini"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simple tasks"})," (scene outlines, keywords) use faster models like ",(0,s.jsx)(n.code,{children:"gpt-4o-mini"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsx)(n.p,{children:"You can also configure the application using environment variables:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OPENAI_API_KEY"}),": Your OpenAI API key"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OPENAI_BASE_URL"}),": OpenAI API base URL (default: ",(0,s.jsx)(n.a,{href:"https://api.openai.com/v1",children:"https://api.openai.com/v1"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OPENAI_DEFAULT_MODEL"}),": Default model name"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DEFAULT_LLM"}),": Default LLM provider"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"LLM_TIMEOUT"}),": Timeout in seconds"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ENVIRONMENT"}),': Environment for LiteLLM tags (e.g., "production", "staging", "testing")']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"PROJECTS_DIR"}),": Directory for project files"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration-loading-order",children:"Configuration Loading Order"}),"\n",(0,s.jsx)(n.p,{children:"The application loads configuration in the following order:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Environment variables"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".env"})," file (if present)"]}),"\n",(0,s.jsxs)(n.li,{children:["Configuration file (",(0,s.jsx)(n.code,{children:"config.json"})," or ",(0,s.jsx)(n.code,{children:"config.yaml"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Default values"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note"}),": Copy ",(0,s.jsx)(n.code,{children:"config-example.json"})," to ",(0,s.jsx)(n.code,{children:"config.json"})," and customize it with your settings."]}),"\n",(0,s.jsx)(n.p,{children:"Later sources override earlier ones, allowing for flexible configuration management."}),"\n",(0,s.jsx)(n.h2,{id:"litellm-tags",children:"LiteLLM Tags"}),"\n",(0,s.jsx)(n.p,{children:"LibriScribe supports LiteLLM tags for better tracking and monitoring of LLM calls. The following tags are automatically included in all LLM requests:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"X-Litellm-Tag-Environment"}),": Set from the ",(0,s.jsx)(n.code,{children:"environment"})," field in your configuration file"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"X-Litellm-Tag-Project"}),": Set to the project folder name where book content is stored"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"X-Litellm-Tag-User"}),": Set from the ",(0,s.jsx)(n.code,{children:"--user"})," CLI parameter (optional, spaces allowed)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# With user identifier\ncreate-book --genre=fantasy --all --mock --user="user-123"\n\n# With user identifier containing spaces\ncreate-book --genre=fantasy --all --mock --user="user-123 x"\n\n# Without user identifier (only environment and project tags will be set)\ncreate-book --genre=fantasy --all --mock\n'})}),"\n",(0,s.jsx)(n.h3,{id:"environment-values",children:"Environment Values"}),"\n",(0,s.jsx)(n.p,{children:"Common environment values include:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"production"}),": For live/production environments"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"staging"}),": For staging/testing environments"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"testing"}),": For development/testing environments"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"development"}),": For local development"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"scene-configuration",children:"Scene Configuration"}),"\n",(0,s.jsx)(n.p,{children:"LibriScribe supports configurable scene ranges per chapter to create more dynamic and varied books:"}),"\n",(0,s.jsx)(n.h4,{id:"scene-range-format",children:"Scene Range Format"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Single number"}),": ",(0,s.jsx)(n.code,{children:'"5"'})," - Always generates exactly 5 scenes per chapter"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Range"}),": ",(0,s.jsx)(n.code,{children:'"3-6"'})," - Generates a random number between 3 and 6 scenes per chapter"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wide range"}),": ",(0,s.jsx)(n.code,{children:'"4-8"'})," - Generates a random number between 4 and 8 scenes per chapter"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Use default scene range (3-6)\ncreate-book --genre=fantasy --all --mock\n\n# Custom scene range\ncreate-book --genre=fantasy --scenes-per-chapter=4-8 --all --mock\n\n# Fixed scene count\ncreate-book --genre=mystery --scenes-per-chapter=5 --all --mock\n"})}),"\n",(0,s.jsx)(n.h4,{id:"configuration-1",children:"Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Add to your config file:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "scenes_per_chapter": "3-6"\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"auto-title-generation",children:"Auto-Title Generation"}),"\n",(0,s.jsx)(n.p,{children:"LibriScribe supports automatic title generation based on book content. The auto-title feature works as follows:"}),"\n",(0,s.jsx)(n.h3,{id:"when-auto-title-is-used",children:"When Auto-Title is Used"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"No title provided"}),": If no ",(0,s.jsx)(n.code,{children:"--title"}),' is specified, a temporary title "Untitled Book" is used for project creation']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Auto-title enabled"}),": Use ",(0,s.jsx)(n.code,{children:"--auto-title"})," flag to generate a title based on content"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Title provided"}),": If a title is provided, auto-title generation is skipped (even if ",(0,s.jsx)(n.code,{children:"--auto-title"})," is used)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"title-generation-requirements",children:"Title Generation Requirements"}),"\n",(0,s.jsx)(n.p,{children:"Auto-title generation works best when you have:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Chapters"})," (",(0,s.jsx)(n.code,{children:"--write-chapters"})," or ",(0,s.jsx)(n.code,{children:"--all"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Characters"})," (",(0,s.jsx)(n.code,{children:"--generate-characters"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Outline"})," (",(0,s.jsx)(n.code,{children:"--generate-outline"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Concept"})," (",(0,s.jsx)(n.code,{children:"--generate-concept"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Generate title based on full manuscript\ncreate-book --genre=fantasy --all --auto-title --mock\n\n# Generate title based on concept and outline\ncreate-book --genre=mystery --generate-concept --generate-outline --auto-title --mock\n\n# Skip title generation (title provided)\ncreate-book --title="My Book" --genre=fantasy --all --auto-title --mock\n\n# Generate better title for existing book\ngenerate-title my-fantasy-project --mock\n'})}),"\n",(0,s.jsx)(n.h2,{id:"test-configuration",children:"Test Configuration"}),"\n",(0,s.jsx)(n.p,{children:"For testing purposes, LibriScribe uses a separate configuration that isolates test projects from user projects:"}),"\n",(0,s.jsx)(n.h3,{id:"test-output-directory",children:"Test Output Directory"}),"\n",(0,s.jsxs)(n.p,{children:["Test projects are automatically created in ",(0,s.jsx)(n.code,{children:"tests/output/"})," to prevent confusion with user-created books. This directory is:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Automatically cleaned up after tests"}),"\n",(0,s.jsx)(n.li,{children:"Ignored by git"}),"\n",(0,s.jsx)(n.li,{children:"Used for debugging when needed"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"test-settings",children:"Test Settings"}),"\n",(0,s.jsx)(n.p,{children:"Tests use modified settings for faster execution:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Projects directory"}),": ",(0,s.jsx)(n.code,{children:"tests/output/"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Chapters"}),": 3 (reduced from 15)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scenes per chapter"}),": 2-4 (reduced from 3-6)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Environment"}),': "testing"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LLM timeout"}),": 30 seconds (reduced from 360)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Mock mode"}),": Enabled by default"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"test-project-cleanup",children:"Test Project Cleanup"}),"\n",(0,s.jsx)(n.p,{children:"To move existing test projects from the main projects directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# List test projects\npython scripts/cleanup_test_projects.py list\n\n# Move test projects to tests/output\npython scripts/cleanup_test_projects.py move\n"})}),"\n",(0,s.jsx)(n.h2,{id:"model-configuration-migration",children:"Model Configuration Migration"}),"\n",(0,s.jsxs)(n.p,{children:["The model configuration system has been updated to use a centralized approach. Previously, model selections were hardcoded in the ",(0,s.jsx)(n.code,{children:"prompts_context.py"})," file. Now, all model selections are managed through the configuration file and default values are stored in ",(0,s.jsx)(n.code,{children:"settings.py"}),", making it easier to customize and maintain."]}),"\n",(0,s.jsx)(n.h3,{id:"default-configuration-location",children:"Default Configuration Location"}),"\n",(0,s.jsxs)(n.p,{children:["Default model configurations are now stored in ",(0,s.jsx)(n.code,{children:"src/libriscribe2/settings.py"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DEFAULT_MODEL_CONFIG"}),": Complete default configuration for all model types"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"FALLBACK_MODEL"}),": Hardcoded fallback model (",(0,s.jsx)(n.code,{children:"gpt-4o-mini"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"removed-variables",children:"Removed Variables"}),"\n",(0,s.jsxs)(n.p,{children:["The following variables have been removed from ",(0,s.jsx)(n.code,{children:"prompts_context.py"})," as they are now handled by the configuration system:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"SCENE_OUTLINE_PROMPT_MODEL"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"OUTLINE_PROMPT_MODEL"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"CHARACTER_PROMPT_MODEL"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"WORLDBUILDING_PROMPT_MODEL"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"EDITOR_PROMPT_MODEL"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"RESEARCH_PROMPT_MODEL"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"FORMATTING_PROMPT_MODEL"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"SCENE_PROMPT_MODEL"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"KEYWORD_GENERATION_PROMPT_MODEL"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"DEF_MODEL_OUTPUT_S_CONTEXT_S"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"DEF_MODEL_OUTPUT_M_CONTEXT_M"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"DEF_MODEL_OUTPUT_L_CONTEXT_L"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use appropriate models"}),": Match model complexity to task complexity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Monitor costs"}),": More powerful models cost more per token"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test configurations"}),": Validate your configuration before running large projects"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Version control"}),": Keep your configuration files in version control"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Environment separation"}),": Use different configurations for development and production"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Model not found"}),": Ensure the model name is correct and available in your OpenAI account"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configuration not loaded"}),": Check file paths and permissions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Timeout errors"}),": Increase ",(0,s.jsx)(n.code,{children:"llm_timeout"})," for complex tasks"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API errors"}),": Verify your API key and base URL"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"debugging",children:"Debugging"}),"\n",(0,s.jsx)(n.p,{children:"Enable debug logging to see which models are being selected:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"export LOG_LEVEL=DEBUG\nlibriscribe2 your-command\n"})}),"\n",(0,s.jsx)(n.p,{children:"This will show you which model is being used for each prompt type."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var r=i(6540);const s={},o=r.createContext(s);function l(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);